/* =====================================================
   LeadGen CMS - Responsive Styles
   ===================================================== */

/* =====================================================
   Extra Large Screens (< 1400px)
   ===================================================== */
@media (max-width: 1400px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .campaigns-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* =====================================================
   Large Screens (< 1200px)
   ===================================================== */
@media (max-width: 1200px) {
    :root {
        --sidebar-width: 260px;
    }

    .charts-grid {
        grid-template-columns: 1fr;
    }

    .chart-card.large {
        grid-column: span 1;
    }

    .content-grid {
        grid-template-columns: 1fr;
    }

    .overview-cards {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* =====================================================
   Medium Screens / Tablets (< 992px)
   ===================================================== */
@media (max-width: 992px) {

    /* Sidebar becomes overlay */
    .sidebar {
        transform: translateX(-100%);
        z-index: var(--z-modal);
    }

    .sidebar.mobile-open {
        transform: translateX(0);
    }

    .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
        z-index: calc(var(--z-modal) - 1);
        opacity: 0;
        visibility: hidden;
        transition: all var(--transition-base);
    }

    .sidebar-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    .main-content {
        margin-left: 0;
    }

    .sidebar.collapsed~.main-content {
        margin-left: 0;
    }

    .mobile-menu-btn {
        display: flex;
    }

    .sidebar-toggle {
        display: none;
    }

    /* Header adjustments */
    .search-box {
        min-width: auto;
        flex: 1;
        max-width: 400px;
    }

    .search-box kbd {
        display: none;
    }

    .add-new-btn span {
        display: none;
    }

    .add-new-btn {
        width: 40px;
        height: 40px;
        padding: 0;
        border-radius: var(--radius-lg);
    }

    /* Get Leads button responsive */
    .get-leads-btn span {
        display: none;
    }

    .get-leads-btn .pulse-dot {
        display: none;
    }

    .get-leads-btn {
        width: 40px;
        height: 40px;
        padding: 0;
        justify-content: center;
    }

    /* Page container */
    .page-container {
        padding: var(--space-4);
    }

    .page-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .page-actions {
        width: 100%;
        flex-wrap: wrap;
    }

    .date-filter {
        order: 1;
        width: 100%;
        justify-content: center;
    }

    /* Stats grid */
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-4);
    }

    .stat-card {
        padding: var(--space-4);
    }

    .stat-value {
        font-size: var(--text-2xl);
    }

    /* Campaigns */
    .campaigns-grid {
        grid-template-columns: 1fr;
    }

    /* Leads toolbar */
    .leads-toolbar {
        flex-direction: column;
        align-items: stretch;
    }

    .search-filter-group {
        flex-direction: column;
    }

    .search-input-wrapper {
        width: 100%;
        min-width: auto;
    }

    .filter-tabs {
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .filter-tabs::-webkit-scrollbar {
        display: none;
    }

    .view-toggle {
        align-self: flex-end;
    }

    /* Table responsive */
    .table-wrapper {
        margin: 0 calc(var(--space-4) * -1);
    }

    .data-table th,
    .data-table td {
        padding: var(--space-3) var(--space-4);
    }

    .table-footer {
        flex-direction: column;
        gap: var(--space-3);
        text-align: center;
    }
}

/* =====================================================
   Small Screens / Large Phones (< 768px)
   ===================================================== */
@media (max-width: 768px) {

    /* Typography scaling */
    .page-title {
        font-size: var(--text-2xl);
    }

    .page-subtitle {
        font-size: var(--text-sm);
    }

    /* Header */
    .top-header {
        padding: var(--space-3) var(--space-4);
    }

    .header-right {
        gap: var(--space-2);
    }

    .header-divider {
        display: none;
    }

    /* Stats grid */
    .stats-grid {
        grid-template-columns: 1fr;
    }

    .stat-card {
        flex-direction: row;
        align-items: center;
        padding: var(--space-4);
    }

    .stat-icon {
        width: 40px;
        height: 40px;
    }

    .stat-content {
        flex: 1;
    }

    .stat-chart {
        display: none;
    }

    /* Overview cards */
    .overview-cards {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-3);
    }

    .overview-card {
        padding: var(--space-4);
        flex-direction: column;
        text-align: center;
    }

    .overview-icon {
        width: 40px;
        height: 40px;
        font-size: var(--text-lg);
    }

    .overview-value {
        font-size: var(--text-xl);
    }

    /* Activity feed */
    .activity-item {
        padding: var(--space-3);
    }

    .activity-icon {
        width: 36px;
        height: 36px;
    }

    /* Campaign cards */
    .campaign-card {
        padding: var(--space-4);
    }

    .campaign-stats {
        gap: var(--space-4);
    }

    /* Modal */
    .modal-content {
        width: 95%;
        max-height: 95vh;
        border-radius: var(--radius-xl);
    }

    .modal-header,
    .modal-body,
    .modal-footer {
        padding: var(--space-4);
    }

    .form-row {
        grid-template-columns: 1fr;
    }

    /* Notification panel */
    .notification-panel {
        width: calc(100% - var(--space-8));
        left: var(--space-4);
        right: var(--space-4);
    }

    /* Toast */
    .toast-container {
        left: var(--space-4);
        right: var(--space-4);
        bottom: var(--space-4);
    }

    .toast {
        min-width: auto;
        width: 100%;
    }

    /* Tables - horizontal scroll indicator */
    .leads-container::before {
        content: '← Scroll →';
        display: block;
        text-align: center;
        padding: var(--space-2);
        font-size: var(--text-xs);
        color: var(--text-muted);
        background: var(--bg-glass);
        border-bottom: 1px solid var(--border-color);
    }

    /* Hide some table columns on mobile */
    .data-table .hide-mobile {
        display: none;
    }

    /* Leads table specific */
    .leads-table th:nth-child(3),
    .leads-table td:nth-child(3),
    .leads-table th:nth-child(5),
    .leads-table td:nth-child(5) {
        display: none;
    }

    /* Forms grid */
    .forms-grid {
        grid-template-columns: 1fr;
    }

    /* Pagination */
    .pagination-btn {
        min-width: 32px;
        height: 32px;
        font-size: var(--text-xs);
    }

    .pagination-dots {
        display: none;
    }
}

/* =====================================================
   Extra Small Screens / Phones (< 480px)
   ===================================================== */
@media (max-width: 480px) {

    /* Root adjustments */
    :root {
        --header-height: 60px;
    }

    /* Page container */
    .page-container {
        padding: var(--space-3);
    }

    .page-header {
        margin-bottom: var(--space-5);
    }

    .page-title {
        font-size: var(--text-xl);
    }

    /* Header */
    .top-header {
        padding: var(--space-2) var(--space-3);
    }

    .search-box {
        display: none;
    }

    .mobile-search-btn {
        display: flex;
    }

    .header-btn {
        width: 36px;
        height: 36px;
    }

    /* Stats */
    .stats-grid {
        gap: var(--space-3);
    }

    .stat-value {
        font-size: var(--text-xl);
    }

    .stat-label {
        font-size: var(--text-xs);
    }

    /* Overview cards */
    .overview-cards {
        grid-template-columns: 1fr 1fr;
        gap: var(--space-2);
    }

    .overview-card {
        padding: var(--space-3);
    }

    .overview-icon {
        width: 32px;
        height: 32px;
        font-size: var(--text-base);
    }

    .overview-value {
        font-size: var(--text-lg);
    }

    .overview-label {
        font-size: var(--text-xs);
    }

    /* Chart cards */
    .chart-card {
        padding: var(--space-4);
    }

    .chart-body {
        height: 200px;
    }

    .chart-legend {
        gap: var(--space-2);
    }

    .legend-item {
        font-size: var(--text-xs);
    }

    /* Content cards */
    .content-card .card-header {
        padding: var(--space-4);
    }

    .card-title {
        font-size: var(--text-base);
    }

    /* Activity feed */
    .activity-feed {
        padding: var(--space-2);
    }

    .activity-item {
        padding: var(--space-2);
    }

    .activity-icon {
        width: 32px;
        height: 32px;
        font-size: var(--text-sm);
    }

    .activity-content p {
        font-size: var(--text-xs);
    }

    /* Campaign cards */
    .campaign-header {
        flex-direction: column;
        gap: var(--space-3);
    }

    .campaign-icon {
        width: 40px;
        height: 40px;
    }

    .campaign-name {
        font-size: var(--text-base);
    }

    .campaign-desc {
        font-size: var(--text-xs);
    }

    .campaign-stats {
        flex-wrap: wrap;
    }

    /* Filter tabs - scroll behavior */
    .filter-tabs {
        padding: 0;
        gap: var(--space-1);
    }

    .filter-tab {
        padding: var(--space-2) var(--space-3);
        font-size: var(--text-xs);
    }

    /* Modal */
    .modal-title {
        font-size: var(--text-lg);
    }

    .modal-header,
    .modal-body,
    .modal-footer {
        padding: var(--space-3);
    }

    .form-label {
        font-size: var(--text-xs);
    }

    .form-input,
    .form-select,
    .form-textarea {
        padding: var(--space-2) var(--space-3);
        font-size: var(--text-sm);
    }

    /* Buttons */
    .btn {
        padding: var(--space-2) var(--space-4);
        font-size: var(--text-xs);
    }

    .btn-lg {
        padding: var(--space-3) var(--space-5);
        font-size: var(--text-sm);
    }

    /* Table footer */
    .table-info {
        font-size: var(--text-xs);
    }

    .pagination-btn {
        min-width: 28px;
        height: 28px;
    }

    /* Sidebar for mobile */
    .sidebar {
        width: 280px;
    }

    .sidebar-header {
        padding: var(--space-4);
    }

    .logo-icon {
        width: 36px;
        height: 36px;
    }

    .logo-text {
        font-size: var(--text-lg);
    }

    .nav-link {
        padding: var(--space-3);
    }

    .nav-link i {
        font-size: var(--text-sm);
    }

    .user-profile {
        padding: var(--space-2);
    }

    .user-avatar img {
        width: 36px;
        height: 36px;
    }

    .user-name {
        font-size: var(--text-xs);
    }
}

/* =====================================================
   Landscape Mode Adjustments
   ===================================================== */
@media (max-height: 500px) and (orientation: landscape) {
    .sidebar {
        overflow-y: auto;
    }

    .modal-content {
        max-height: 98vh;
    }

    .modal-body {
        max-height: calc(98vh - 120px);
    }
}

/* =====================================================
   Print Styles
   ===================================================== */
@media print {

    .sidebar,
    .top-header,
    .preloader,
    .modal,
    .notification-panel,
    .toast-container {
        display: none !important;
    }

    .main-content {
        margin-left: 0 !important;
    }

    .page-container {
        padding: 0;
    }

    .page-content {
        display: block !important;
    }

    .stat-card,
    .chart-card,
    .content-card,
    .campaign-card {
        break-inside: avoid;
        box-shadow: none;
        border: 1px solid #ddd;
    }

    body {
        background: white;
        color: black;
    }

    .btn {
        display: none;
    }
}

/* =====================================================
   High Contrast Mode
   ===================================================== */
@media (prefers-contrast: high) {
    :root {
        --border-color: rgba(255, 255, 255, 0.3);
        --border-color-light: rgba(255, 255, 255, 0.5);
    }

    .btn-outline {
        border-width: 2px;
    }

    .nav-link:focus,
    .btn:focus {
        outline: 3px solid var(--color-primary-400);
        outline-offset: 2px;
    }
}

/* =====================================================
   Reduced Motion
   ===================================================== */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .preloader {
        display: none;
    }
}

/* =====================================================
   Touch Device Optimizations
   ===================================================== */
@media (hover: none) and (pointer: coarse) {

    /* Larger touch targets */
    .btn {
        min-height: 44px;
        min-width: 44px;
    }

    .nav-link {
        min-height: 44px;
    }

    .action-btn {
        min-width: 44px;
        min-height: 44px;
    }

    .pagination-btn {
        min-width: 44px;
        min-height: 44px;
    }

    /* Remove hover effects that might persist */
    .stat-card:hover,
    .campaign-card:hover,
    .form-card:hover {
        transform: none;
    }

    /* Improve scrolling */
    .filter-tabs,
    .table-wrapper,
    .notification-list {
        -webkit-overflow-scrolling: touch;
    }
}

/* =====================================================
   Dark Mode Toggle (if user prefers light)
   ===================================================== */
@media (prefers-color-scheme: light) {
    :root:not([data-theme="dark"]) {
        --bg-primary: #f8fafc;
        --bg-secondary: #ffffff;
        --bg-tertiary: #f1f5f9;
        --bg-card: rgba(255, 255, 255, 0.9);
        --bg-card-hover: rgba(255, 255, 255, 1);
        --bg-glass: rgba(0, 0, 0, 0.02);
        --bg-glass-hover: rgba(0, 0, 0, 0.04);

        --text-primary: #0f172a;
        --text-secondary: #475569;
        --text-tertiary: #64748b;
        --text-muted: #94a3b8;

        --border-color: rgba(0, 0, 0, 0.08);
        --border-color-light: rgba(0, 0, 0, 0.12);

        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
}